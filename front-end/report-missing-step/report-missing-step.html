<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">

<title>แจ้งคนหาย (Step by Step)</title>

<!-- Bootstrap CSS -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

<!-- Font Awesome -->
<link rel="stylesheet"
 href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

<!-- Main CSS -->
<link rel="stylesheet" href="../style.css">

<style>
.step { display: none; }
.step.active { display: block; }
</style>
</head>

<body class="bg-light">

<!-- ================= HEADER ================= -->
<div id="header"></div>

<!-- ================= MAIN ================= -->
<main class="container my-5">

<h2 class="mb-3">แบบฟอร์มแจ้งคนหาย</h2>
<p class="text-muted">ขั้นตอนที่ <span id="stepNumber">1</span> จาก 5</p>

<form id="reportForm">

<!-- ================= STEP 1 ================= -->
<section class="step active" data-step="1">
  <h4>1. ประเภทการแจ้ง</h4>

  <div class="mb-3">
    <label class="form-label">ประเภท</label>
    <select class="form-select" required>
      <option value="">-- เลือก --</option>
      <option>แจ้งคนหาย</option>
    </select>
  </div>

  <div class="mb-3">
    <label class="form-label">หัวข้อการแจ้ง</label>
    <select class="form-select" required>
      <option value="">-- เลือกหัวข้อ --</option>
      <option>ถูกลักพาตัว</option>
      <option>ปัญหาการใช้สื่อโซเชียลมีเดีย</option>
      <option>พลัดหลงออกจากบ้าน</option>
      <option>มีปัญหากับครอบครัว / สมัครใจ</option>
      <option>มีอาการทางสมอง / ป่วย</option>
      <option>ล่อลวงเพื่อทางเพศ / แรงงาน / ชู้สาว</option>
      <option>อื่น ๆ</option>
    </select>
  </div>

  <div class="mb-3">
    <label class="form-label">ความเร่งด่วน</label>
    <select class="form-select">
      <option>ด่วน</option>
      <option>ด่วนมาก</option>
    </select>
  </div>
</section>

<!-- ================= STEP 2 ================= -->
<section class="step" data-step="2">
  <h4>2. ข้อมูลผู้แจ้ง</h4>

  <div class="mb-3">
    <label class="form-label">ชื่อผู้แจ้ง</label>
    <input type="text" class="form-control" required>
  </div>

  <div class="mb-3">
    <label class="form-label">เบอร์โทรศัพท์</label>
    <input
    type="tel"
    class="form-control"
    required
    pattern="[0-9]{10}"
    maxlength="10"
    inputmode="numeric"
    placeholder="เช่น 0812345678"
    oninput="this.value = this.value.replace(/[^0-9]/g, '')">
    <div class="form-text">กรุณากรอกเบอร์โทรศัพท์ 10 หลัก (ไม่ต้องเว้นวรรค)</div>
  </div>
  <div class="mb-3">
    <label class="form-label">ที่อยู่ที่ติดต่อได้</label>
    <input type="text" class="form-control" minlength="5" required>
  </div>
  <div class="mb-3">
    <label class="form-label">รหัสไปรษณีย์</label>
    <input id="postcode" type="text" class="form-control" maxlength="5">
  </div>

  <div class="mb-3">
    <label class="form-label">ที่อยู่</label>
    <input id="addressAuto" class="form-control" readonly>
  </div>
  <!-- รายละเอียดช่องทาง -->
<div class="mb-3">
    <label class="form-label">รายละเอียดช่องทางการติดต่อ</label>
    <input type="text" class="form-control" placeholder="เช่น ชื่อ Facebook / LINE ID">
  </div>
</section>



<!-- ================= STEP 3 ================= -->
<section class="step" data-step="3">
  <h4>3. วันและเวลาที่เกิดเหตุ</h4>

  <div class="row">
    <div class="col-md-6">
      <label class="form-label">วันที่เกิดเหตุ</label>
      <input type="date" class="form-control" id="incidentDate">
    </div>
  
    <div class="col-md-6">
      <label class="form-label">เวลาที่เกิดเหตุ</label>
      <input type="time" class="form-control" id="incidentTime">
    </div>
  </div>
</section>

<!-- ================= STEP 4 ================= -->
<section class="step" data-step="4">
  <h4>4. รายละเอียดเหตุการณ์</h4>

  <div class="mb-3">
    <label class="form-label">ประเด็นปัญหา</label>
    <input type="text" class="form-control">
  </div>

  <div class="mb-3">
    <label class="form-label">รายละเอียด</label>
    <textarea class="form-control" rows="4"></textarea>
  </div>

  <div class="mb-3">
    <label class="form-label">แนบไฟล์รูป / เอกสารใบแจ้งความ</label>
    <input type="file" class="form-control mb-2">
    <input type="file" class="form-control">
  </div>
</section>

<!-- ================= STEP 5 ================= -->
<section class="step" data-step="5">
  <h4>5. ยืนยันข้อมูล</h4>
  <p class="text-success fw-semibold">
    กรุณาตรวจสอบข้อมูลก่อนกดยืนยัน
  </p>
</form>
<div class="text-center my-4">
    <button type="button" class="btn btn-secondary" id="pdfBtn">
      <i class="fa-solid fa-file-pdf"></i> บันทึกเป็น PDF
    </button>
  </div>
</section>


<!-- ================= BUTTON ================= -->
<div class="d-flex justify-content-between mt-4">
  <button
    type="button"
    class="btn btn-secondary"
    onclick="prevStep()"
    id="prevBtn"
    style="visibility:hidden">
    ย้อนกลับ
  </button>

  <button
    type="button"
    class="btn btn-primary"
    onclick="nextStep()"
    id="nextBtn">
    ถัดไป
  </button>
</div>

</form>
</main>

<!-- ================= LOAD HEADER ================= -->
<script>
fetch("../partials/header.html")
  .then(res => res.text())
  .then(html => {
    document.getElementById("header").innerHTML = html;
  })
  .catch(err => console.error("โหลด header ไม่ได้", err));
</script>

<!-- Step Script -->
<script src="script-step.js"></script>

<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

</body>
</html>